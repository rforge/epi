<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Functions to convert character, factor and various date objects into a number,
and vice versa.</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for cal.yr {Epi}"><tr><td>cal.yr {Epi}</td><td align="right">R Documentation</td></tr></table>
<h2>Functions to convert character, factor and various date objects into a number,
and vice versa.</h2>


<h3>Description</h3>

<p>
Dates are converted to a numerical value, giving the calendar year as
a fractional number. 1 January 1970 is converted to 1970.0, and other
dates are converted by assuming that years are all 365.25 days long,
so inaccuracies may arise, for example, 1 Jan 2000 is converted to
1999.999. Differences between converted values will be 1/365.25 of the 
difference between corresponding <code><a href="../../base/html/Dates.html">Date</a></code> objects.
</p>


<h3>Usage</h3>

<pre>
  cal.yr(x, format)
  as.Date.cal.yr( x, ... )
  as.Date.numeric( x, ..., unit="d" )
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
A factor or character vector, representing a date in format
<code>format</code>, or an object of class
<code><a href="../../base/html/Dates.html">Date</a></code>,
<code><a href="../../base/html/DateTimeClasses.html">POSIXlt</a></code>,
<code><a href="../../base/html/DateTimeClasses.html">POSIXct</a></code>,
<code><a href="../../base/html/date.html">date</a></code>,
<code>dates</code> or
<code>chron</code> (the latter two requires the <code>chron</code> package).</td></tr>
<tr valign="top"><td><code>format</code></td>
<td>
Format of the date values if <code>x</code> is factor or character</td></tr>
<tr valign="top"><td><code>unit</code></td>
<td>
Which units are the date measured in, <code>"y"</code> for years,
<code>"d"</code> for days.</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
Arguments passed on from other methods.</td></tr>
</table>

<h3>Value</h3>

<p>
<code>cal.yr</code> returns a numerical vector of the same length as
<code>x</code>, of class <code>c("cal.yr","numeric")</code>.
<br>
<code>as.Date.cal.yr</code> and <code>as.Date.numeric</code>
return <code><a href="../../base/html/Dates.html">Date</a></code> objects.</p>

<h3>Author(s)</h3>

<p>
Bendix Carstensen, Steno Diabetes Center &amp; Dept. of Biostatistics,
University of Copenhagen, <a href="mailto:bxc@steno.dk">bxc@steno.dk</a>,
<a href="http://www.pubhealth.ku.dk/~bxc">http://www.pubhealth.ku.dk/~bxc</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="../../base/html/DateTimeClasses.html">DateTimeClasses</a></code>,
<code><a href="../../base/html/Dates.html">Date</a></code>
</p>


<h3>Examples</h3>

<pre>
 # Charcter vector of dates:
 birth &lt;- c("14/07/1852","01/04/1954","10/06/1987","16/05/1990",
            "01/01/1996","01/01/1997","01/01/1998","01/01/1999")
 # Proper conversion to class "Date":
 birth.dat &lt;- as.Date( birth, format="%d/%m/%Y" )
 # Converson of character to class "cal.yr"
 bt.yr &lt;- cal.yr( birth, format="%d/%m/%Y" )
 # Back to class "Date":
 bt.dat &lt;- as.Date( bt.yr )
 # Numerical calculation of days since 1.1.1970:
 days &lt;- Days &lt;- (bt.yr-1970)*365.25
 # Blunt assignment of class:
 class( Days ) &lt;- "Date"
 # Then data.frame() to get readable output of results:
 data.frame( birth, birth.dat, bt.yr, bt.dat, days, Days, round(Days) )
</pre>



<hr><div align="center">[Package <em>Epi</em> version 0.8.0 <a href="00Index.html">Index]</a></div>

</body></html>
