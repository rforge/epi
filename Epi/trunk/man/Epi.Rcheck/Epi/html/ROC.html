<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Function to compute and draw ROC-curves.</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for ROC {Epi}"><tr><td>ROC {Epi}</td><td align="right">R Documentation</td></tr></table>
<h2>Function to compute and draw ROC-curves.</h2>


<h3>Description</h3>

<p>
Computes sensitivity, specificity and positive and negative predictive
values for a test based on dichotomizing along the variable
<code>test</code>, for prediction of <code>stat</code>. Alternatively a
model formula may given, in which case the the linear predictor is the
test variable and the response is taken as the true status variable.
Plots curves of these and a ROC-curve.
</p>


<h3>Usage</h3>

<pre>
ROC( test = NULL,
     stat = NULL,
     form = NULL,
     plot = c("sp", "ROC"),
       PS = is.null(test),    
       PV = TRUE,             
       MX = TRUE,             
       MI = TRUE,             
      AUC = TRUE,             
     grid = seq(0,100,10),
 col.grid = gray( 0.9 ),
     cuts = NULL,
      lwd = 2,
     data = parent.frame(), 
      ... )
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>test</code></td>
<td>
Numerical variable used for prediction. </td></tr>
<tr valign="top"><td><code>stat</code></td>
<td>
Logical variable of true status. </td></tr>
<tr valign="top"><td><code>form</code></td>
<td>
Formula used in a logistic regression. If this is given,
<code>test</code> and <code>stat</code> are ignored. If not given then
both <code>test</code> and <code>stat</code> must be supplied. </td></tr>
<tr valign="top"><td><code>plot</code></td>
<td>
Character variable. If "sp", the a plot of sensitivity,
specificity and predictive values against test is produced, if "ROC" a
ROC-curve is plotted. Both may be given.</td></tr>
<tr valign="top"><td><code>PS</code></td>
<td>
logical, if TRUE the x-axis in the
plot "ps"-plot is the the predicted probability for
<code>stat</code>==TRUE, otherwise it is the scale of <code>test</code> if this
is given otherwise the scale of the linear predictor from the
logistic regression.</td></tr>
<tr valign="top"><td><code>PV</code></td>
<td>
Should sensitivity, specificity and
predictive values at the optimal cutpoint be given on the ROC plot? </td></tr>
<tr valign="top"><td><code>MX</code></td>
<td>
Should the ``optimal cutpoint'' (i.e. where sens+spec is
maximal) be indicated on the ROC curve?</td></tr>
<tr valign="top"><td><code>MI</code></td>
<td>
Should model summary from the logistic
regression model be printed in the plot?</td></tr>
<tr valign="top"><td><code>AUC</code></td>
<td>
Should the area under the curve (AUC) be printed in the ROC
plot?</td></tr>
<tr valign="top"><td><code>grid</code></td>
<td>
Numeric or logical. If FALSE no background grid is
drawn. Otherwise a grid is drawn on both axes at <code>grid</code> percent.</td></tr>
<tr valign="top"><td><code>col.grid</code></td>
<td>
Colour of the grid lines drawn.</td></tr>
<tr valign="top"><td><code>cuts</code></td>
<td>
Points on the test-scale to be annotated on the
ROC-curve. </td></tr>
<tr valign="top"><td><code>lwd</code></td>
<td>
Thickness of the curves</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
Data frame in which to interpret the variables.</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
Additional arguments for the plotting of the
ROC-curve. Passed on to <code>plot</code></td></tr>
</table>

<h3>Value</h3>

<p>
A list with two components:
</p>
<table summary="R argblock">
<tr valign="top"><td><code>res</code></td>
<td>
dataframe with variables sn, sp, pvp, pvn and fv. The
latter is the unique values of test (for PS==FALSE ) or linear predictor from the
logistic regression</td></tr>
<tr valign="top"><td><code>lr</code></td>
<td>
glm object with the logistic regression result used for
construction of the ROC curve</td></tr>
</table>
<p>

0, 1 or 2 plots are produced according to the setting of <code>plot</code>.</p>

<h3>Author(s)</h3>

<p>
Bendix Carstensen, Steno Diabetes Center &amp; University of
Copenhagen,
<a href="http://www.biostat.ku.dk/~bxc">http://www.biostat.ku.dk/~bxc</a>
</p>


<h3>References</h3>




<h3>Examples</h3>

<pre>
x &lt;- rnorm( 100 )
z &lt;- rnorm( 100 )
w &lt;- rnorm( 100 )
tigol &lt;- function( x ) 1 - ( 1 + exp( x ) )^(-1)
y &lt;- rbinom( 100, 1, tigol( 0.3 + 3*x + 5*z + 7*w ) )
ROC( form = y ~ x + z, plot="ROC" )
</pre>



<hr><div align="center">[Package <em>Epi</em> version 0.8.0 <a href="00Index.html">Index]</a></div>

</body></html>
