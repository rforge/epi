<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Function to calculate effects</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for effx {Epi}"><tr><td>effx {Epi}</td><td align="right">R Documentation</td></tr></table>
<h2>Function to calculate effects</h2>


<h3>Description</h3>

<p>
The function calculates the effects of an exposure on a response,
possibly stratified by a stratifying variable, and/or controlled for one
of more confounding variables.
</p>


<h3>Usage</h3>

<pre>
effx( response, type = "metric",
                 fup = NULL,     
            exposure,     
              strata = NULL,  
             control = NULL,
             weights = NULL,
               alpha = 0.05,   
                base = 1,             
              sigdig = 3,     
                data = NULL )    
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>response</code></td>
<td>
The <code>response</code> variable - must be numeric</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
The type of response<code>type</code> - must be one of "metric",
"binary", "failure", or "count"</td></tr>
<tr valign="top"><td><code>fup</code></td>
<td>
The <code>fup</code> variable contains the follow-up time for a
failure response</td></tr>
<tr valign="top"><td><code>exposure</code></td>
<td>
The <code>exposure</code> variable can be numeric or a factor</td></tr>
<tr valign="top"><td><code>strata</code></td>
<td>
The <code>strata</code> stratifying variable - must be a factor</td></tr>
<tr valign="top"><td><code>control</code></td>
<td>
The <code>control</code> variable(s) - these are passed as a
list of there are more than one.</td></tr>
<tr valign="top"><td><code>weights</code></td>
<td>
Weights</td></tr>
<tr valign="top"><td><code>base</code></td>
<td>
Baseline for the effects of a categorical exposure, default 1</td></tr>
<tr valign="top"><td><code>sigdig</code></td>
<td>
Number of significant digits for the effects, default 3</td></tr>
<tr valign="top"><td><code>alpha</code></td>
<td>
1 - confidence level</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<code>data</code> refers to the data used to evaluate the function</td></tr>
</table>

<h3>Details</h3>

<p>
The function is a wrapper for glm. Effects are calculated as
differences in means for a metric response, odds ratios for a binary
response, and rate ratios for a failure or count response.  
</p>
<p>
The k-1 effects for a categorical exposure with k levels are relative
to a baseline which, by default, is the first level. The effect of a
metric (quantitative) exposure is calculated per unit of exposure. 
</p>
<p>
The exposure variable can be numeric or a factor, but if it is an
ordered factor the order will be ignored.
</p>


<h3>Value</h3>

<table summary="R argblock">
<tr valign="top"><td><code>comp1 </code></td>
<td>
Effects of exposure</td></tr>
<tr valign="top"><td><code>comp2 </code></td>
<td>
Tests of significance</td></tr>
</table>

<h3>Warning</h3>

<p>
The function attaches the frame specified in the
<code>data=</code> argument, so there is a possibility that a variable in the
Global environment is masked by the attached frame. Watch out for this
warning in the output!
</p>


<h3>Author(s)</h3>

<p>
Michael Hills
</p>


<h3>References</h3>

<p>
www.mhills.pwp.blueyonder.co.uk
</p>


<h3>Examples</h3>

<pre>
library(Epi)
data(births)
births$hyp &lt;- factor(births$hyp,labels=c("normal","hyper"))
births$sex &lt;- factor(births$sex,labels=c("M","F"))

# bweight is the birth weight of the baby in gms, and is a metric
# response (the default) 

# effect of hypertension on birth weight
effx(bweight,exposure=hyp,data=births) 
# effect of hypertension on birth weight stratified by sex
effx(bweight,exposure=hyp,strata=sex,data=births) 
# effect of hypertension on birth weight controlled for sex
effx(bweight,exposure=hyp,control=sex,data=births) 
# effect of gestation time on birth weight
effx(bweight,exposure=gestwks,data=births) 
# effect of gestation time on birth weight stratified by sex
effx(bweight,exposure=gestwks,strata=sex,data=births) 
# effect of gestation time on birth weight controlled for sex
effx(bweight,exposure=gestwks,control=sex,data=births) 

# lowbw is a binary response coded 1 for low birth weight and 0 otherwise
# effect of hypertension on low birth weight
effx(lowbw,type="binary",exposure=hyp,data=births)
# etc.
</pre>



<hr><div align="center">[Package <em>Epi</em> version 0.8.0 <a href="00Index.html">Index]</a></div>

</body></html>
